{
  "options": [
    {
      "enabled": false,
      "definition": {
        "id": "5d58cc01-7c75-450c-be18-a388ddb129ec"
      },
      "inputs": {
        "branchFilters": "[\"+refs/heads/*\"]",
        "additionalFields": "{}"
      }
    },
    {
      "enabled": false,
      "definition": {
        "id": "a9db38f9-9fdc-478c-b0f9-464221e58316"
      },
      "inputs": {
        "workItemType": "Issue",
        "assignToRequestor": "true",
        "additionalFields": "{}"
      }
    }
  ],
  "variables": {
    "CDN_ENDPOINT": {
      "value": "mcwponazurecdn"
    },
    "FILESHARE": {
      "value": "mcwponazure"
    },
    "LOCATION_WEBAPP": {
      "value": "westeurope"
    },
    "MYSQLDB": {
      "value": "wp_mcwponazuredb"
    },
    "RESOURCEGROUP_WEBAPP": {
      "value": "mcwponazure-rg"
    },
    "system.debug": {
      "value": "false",
      "allowOverride": true
    },
    "WEBAPP": {
      "value": "mcwponazure-wa"
    }
  },
  "variableGroups": [
    {
      "variables": {
        "APPSERVICEPLAN": {
          "value": "mcwponazure-sp"
        },
        "CDN": {
          "value": "mcwponazure-cdn"
        },
        "KEYVAULT": {
          "value": "mcwponazure-kv"
        },
        "KVMYSQLPWD": {
          "value": "mysqladminpwd"
        },
        "LOCATION_SHARED": {
          "value": "westeurope"
        },
        "MYSQLSVR": {
          "value": "mcwponazure-mysql-svr"
        },
        "MYSQLUSER": {
          "value": "mysqladmin"
        },
        "RESOURCEGROUP_SHARED": {
          "value": "mcwponazure-rg"
        },
        "STORAGEACC": {
          "value": "mcwponazurest01"
        }
      },
      "type": "Vsts",
      "name": "Shared Resources",
      "description": "",
      "id": "$Shared Resources$"
    }
  ],
  "properties": {},
  "tags": [],
  "_links": "{}",
  "jobAuthorizationScope": "projectCollection",
  "jobTimeoutInMinutes": 60,
  "jobCancelTimeoutInMinutes": 5,
  "process": {
    "phases": [
      {
        "steps": [
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Copy Files",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c",
              "versionSpec": "2.*",
              "definitionType": "task"
            },
            "inputs": {
              "SourceFolder": "",
              "Contents": "**",
              "TargetFolder": "$(agent.builddirectory)",
              "CleanTargetFolder": "false",
              "OverWrite": "false",
              "flattenFolders": "false",
              "preserveTimestamp": "false"
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Azure CLI - Create / Update Shared Azure Resources",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "46e4be58-730b-4389-8a2f-ea10b3e5e815",
              "versionSpec": "1.*",
              "definitionType": "task"
            },
            "inputs": {
              "connectedServiceNameARM": "",
              "scriptLocation": "scriptPath",
              "scriptPath": "deploy/azuredeploy_shared.sh",
              "inlineScript": "",
              "args": "-r $(RESOURCEGROUP_SHARED) -l $(LOCATION_SHARED) -a $(APPSERVICEPLAN) -m $(MYSQLSVR) -u $(MYSQLUSER) -k $(KEYVAULT) -p $(KVMYSQLPWD) -c $(CDN) -s $(STORAGEACC)",
              "addSpnToEnvironment": "false",
              "useGlobalConfig": "false",
              "cwd": "$(agent.builddirectory)",
              "failOnStandardError": "false"
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Azure CLI - Create / Update WebApp Azure Resources",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "46e4be58-730b-4389-8a2f-ea10b3e5e815",
              "versionSpec": "1.*",
              "definitionType": "task"
            },
            "inputs": {
              "connectedServiceNameARM": "",
              "scriptLocation": "scriptPath",
              "scriptPath": "deploy/azuredeploy_webapp.sh",
              "inlineScript": "",
              "args": "-r $(RESOURCEGROUP_WEBAPP) -s $(RESOURCEGROUP_SHARED) -l $(LOCATION_WEBAPP) -a $(APPSERVICEPLAN) -m $(MYSQLSVR) -d $(MYSQLDB) -w $(WEBAPP) -c $(CDN) -e $(CDN_ENDPOINT) -x $(STORAGEACC) -y $(FILESHARE)",
              "addSpnToEnvironment": "false",
              "useGlobalConfig": "false",
              "cwd": "$(agent.builddirectory)",
              "failOnStandardError": "false"
            }
          },
          {
            "environment": {},
            "enabled": true,
            "continueOnError": false,
            "alwaysRun": false,
            "displayName": "Publish Artifact: drop",
            "timeoutInMinutes": 0,
            "condition": "succeeded()",
            "task": {
              "id": "2ff763a7-ce83-4e1f-bc89-0ae63477cebe",
              "versionSpec": "1.*",
              "definitionType": "task"
            },
            "inputs": {
              "PathtoPublish": "$(agent.builddirectory)",
              "ArtifactName": "drop",
              "ArtifactType": "Container",
              "TargetPath": "",
              "Parallel": "false",
              "ParallelCount": "8",
              "FileCopyOptions": ""
            }
          }
        ],
        "name": "Agent job 1",
        "refName": "Job_1",
        "condition": "succeeded()",
        "target": {
          "executionOptions": {
            "type": 0
          },
          "allowScriptsAuthAccessOption": false,
          "type": 1,
          "queue": "{}"
        },
        "jobAuthorizationScope": "projectCollection"
      }
    ],
    "target": {
      "agentSpecification": {
        "identifier": "ubuntu-18.04"
      }
    },
    "type": 1
  },
  "repository": {
    "properties": {
      "cleanOptions": "0",
      "labelSources": "0",
      "labelSourcesFormat": "$(build.buildNumber)",
      "reportBuildStatus": "true",
      "gitLfsSupport": "false",
      "skipSyncSource": "false",
      "checkoutNestedSubmodules": "false",
      "fetchDepth": "0",
      "connectedServiceId": ""
    },
    "id": "$multi-container-wordpress-on-azure$",
    "type": "TfsGit",
    "name": "multi-container-wordpress-on-azure",
    "url": "",
    "defaultBranch": "refs/heads/master",
    "clean": "false",
    "checkoutSubmodules": false
  },
  "processParameters": {},
  "quality": "definition",
  "authoredBy": "{}",
  "drafts": [],
  "queue": {
    "_links": "{}",
    "id": "",
    "name": "Azure Pipelines",
    "url": "",
    "pool": {
      "id": "",
      "name": "Azure Pipelines",
      "isHosted": true
    }
  },
  "id": "",
  "name": "Build Multi-container WordPress on Azure-CI",
  "url": "",
  "uri": "",
  "path": "\\",
  "type": "build",
  "queueStatus": "enabled",
  "revision": 25,
  "createdDate": "",
  "project": "{}"
}